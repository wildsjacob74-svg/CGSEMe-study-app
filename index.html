<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GCSE Study App</title>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<style>
body {
font-family: Arial, sans-serif;
background-color: #f3f3f3;
padding: 20px;
}

h2 {
color: #2c3e50;
}

.form-container {
background-color: #fff;
padding: 20px;
border-radius: 8px;
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
max-width: 400px;
margin: 0 auto;
}

input[type="email"], input[type="password"] {
width: 100%;
padding: 10px;
margin-bottom: 15px;
border: 1px solid #ccc;
border-radius: 4px;
}

button {
width: 100%;
padding: 10px;
background-color: #3498db;
color: white;
border: none;
border-radius: 4px;
cursor: pointer;
}

button:hover {
background-color: #2980b9;
}

.message {
text-align: center;
margin-top: 20px;
}
</style>
</head>
<body>

<h2>Welcome to the GCSE Study App</h2>

<!-- Sign-Up Form -->
<div class="form-container">
<h3>Sign Up</h3>
<input type="email" id="signupEmail" placeholder="Enter your email" required />
<input type="password" id="signupPassword" placeholder="Enter your password" required />
<button onclick="signup()">Sign Up</button>
</div>

<br>

<!-- Log-In Form -->
<div class="form-container">
<h3>Log In</h3>
<input type="email" id="loginEmail" placeholder="Enter your email" required />
<input type="password" id="loginPassword" placeholder="Enter your password" required />
<button onclick="login()">Log In</button>
</div>

<div class="message" id="message"></div>

<script>
// Firebase configuration (Replace these with your actual Firebase project details)
const firebaseConfig = {
apiKey: "AIzaSyB2TBtyxW3S_pu745Sq73CFA_7ICQAcQZM", // Replace with your actual API Key
authDomain: "gcsme-1a488.firebaseapp.com", // Replace with your Firebase Auth Domain
projectId: "gcsme-1a488", // Replace with your Firebase Project ID
storageBucket: "gcsme-1a488.firebasestorage.app",// Replace with your Firebase Storage Bucket
messagingSenderId: "116760620980", // Replace with your Firebase Messaging Sender ID
appId: "1:116760620980:web:f5abb4592a643631c74ce1" // Replace with your Firebase App ID
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Sign Up Function
function signup() {
const email = document.getElementById("signupEmail").value;
const password = document.getElementById("signupPassword").value;

auth.createUserWithEmailAndPassword(email, password)
.then((userCredential) => {
const user = userCredential.user;
saveUserProgress(user); // Save user data to Firestore
displayMessage("Sign up successful! Welcome, " + user.email);
})
.catch((error) => {
displayMessage("Error signing up: " + error.message);
});
}

// Log In Function
function login() {
const email = document.getElementById("loginEmail").value;
const password = document.getElementById("loginPassword").value;

auth.signInWithEmailAndPassword(email, password)
.then((userCredential) => {
const user = userCredential.user;
displayMessage("Log in successful! Welcome back, " + user.email);
})
.catch((error) => {
displayMessage("Error logging in: " + error.message);
});
}

// Save User Progress to Firestore
function saveUserProgress(user) {
const userRef = db.collection('users').doc(user.uid);
userRef.set({
progress: ["lesson1", "lesson2"] // Example data
})
.then(() => {
console.log("User progress saved!");
})
.catch((error) => {
console.error("Error saving progress: ", error.message);
});
}

// Display messages on the page
function displayMessage(message) {
document.getElementById("message").innerText = message;
}
</script>

</body>
</html>
